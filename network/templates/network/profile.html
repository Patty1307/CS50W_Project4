{% extends "network/layout.html" %}

{% load static %}

{% block body %}
    
<div class="container-fluid">

    <input type="hidden" name="csrfmiddlewaretoken" value="{{ csrf_token }}">
    <div id="AllPosts_view">
        
       <h1>{{ profile_name }}</h1>
        
       {% if user.is_authenticated and can_follow_or_unfollow %}
        <form id="follow-form">
            {% csrf_token %}

            <button type="submit" class="btn btn-primary" id="followbtn" data-following="{{ is_following|yesno:'true,false' }}">
                {% if is_following %}
                    Unfollow
                {% else %}
                    Follow
                {% endif %}
            </button>

        </form>
       {% endif %} 
     
       <div class="container-fluid d-flex justify-content-evenly align-items-center" style="min-height: 150px;">
            <div>Followers <span id="Followers">{{ profile_followers_count }}</span></div>
            <div>Followed <span id="Followed">{{ profile_followed_count }}</span></div>
       </div> 
       
       <div id="posts" class="mt-3" data-mode="{{ data_set }}" data-userId="{{ data_userId }}"></div>
            
        <div class="mt-3 d-flex justify-content-center align-items-center gap-2">
            <button id="prev" class="btn btn-outline-primary btn-sm" disabled>Prev</button>
                <span id="PageCounter" class="mb-0"></span>
            <button id="next" class="btn btn-outline-primary btn-sm" disabled>Next</button>
        </div> 
    </div>
</div>


{% endblock %}

{% block script %}
   
    <script src="{% static 'network/profile.js' %}"></script>
    <script src="{% static 'network/posts.js' %}"></script>
    
{% endblock %}